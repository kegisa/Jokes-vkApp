(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){"use strict";a.r(t);a(67),a(92);var n=a(0),c=a.n(n),i=a(38),r=a.n(i),s=a(8),l=a.n(s),o=a(10),d=a(11),u=a(13),m=a(12),h=a(14),b=a(23),f=a(1),p=(a(115),a(37),a(61)),y=a.n(p),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement(f.Panel,{id:"send",className:"header"},c.a.createElement(f.PanelHeader,null,"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c"),c.a.createElement("img",{className:"Persik",src:y.a}),c.a.createElement(f.FormLayout,null,c.a.createElement(f.Textarea,{top:"\u041c\u044b \u043f\u0440\u043e\u0441\u0438\u043c \u0442\u0435\u0431\u044f, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c \u043f\u0443\u043d\u043a\u0442\u0443\u0430\u0446\u0438\u044e \u0438 \u043e\u0448\u0438\u0431\u043a\u0438, \u043f\u0443\u0441\u0442\u044c \u0442\u0432\u043e\u0438 \u0430\u043d\u0435\u043a\u0434\u043e\u0442\u044b \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u044f\u0442\u043d\u0435\u0435 \u0447\u0438\u0442\u0430\u0442\u044c.",placeholder:"\u041d\u0430\u0440\u0434\u044b, \u0430\u0440\u043c\u044f\u043d\u0435 ....."}),c.a.createElement(f.Button,{size:"xl",level:"secondary"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))}}]),t}(c.a.Component),k=a(62),v=a.n(k),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={jokes:[],isFetching:!0},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;l.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data}),console.log(t.detail.data.id);break;default:console.log(t.detail.data)}}),l.a.send("VKWebAppGetUserInfo",{}),this.loadJokes()}},{key:"loadJokes",value:function(){var e=this;fetch("https://api.icndb.com/jokes/random/10").then(function(e){return e.json()}).then(function(t){e.setState({jokes:t.value})}),this.state.isFetching=!1}},{key:"render",value:function(){var e=this.state.jokes,t=this.state.isFetching,a=this.state.fetchedUser;return c.a.createElement(f.Panel,{id:"feed"},c.a.createElement(f.PanelHeader,null,"\u041b\u0435\u043d\u0442\u0430"),a&&c.a.createElement(f.Group,{title:"User Data Fetched with VK Connect"},c.a.createElement(f.ListItem,{before:a.photo_200?c.a.createElement(f.Avatar,{src:a.photo_200}):null,description:a.city&&a.city.title?a.city.title:""},"".concat(a.first_name," ").concat(a.last_name," ").concat(a.id,"\n                     ").concat(a.city.title))),t&&c.a.createElement(f.ScreenSpinner,{className:"spinner",size:"large",style:{marginTop:20}}),e.map(function(e){return c.a.createElement(f.Group,{className:"post"},c.a.createElement(f.List,null,c.a.createElement(f.Cell,{multiline:!0},e.joke),c.a.createElement(f.Cell,{asideContent:c.a.createElement(f.Button,{level:"tertiary",after:c.a.createElement(v.a,null),size:"l"},Math.floor(100*Math.random())+1)}," ")))}))}}]),t}(c.a.Component),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={jokes:[],isFetching:!0},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadJokes()}},{key:"loadJokes",value:function(){var e=this;fetch("http://66160595b12e.sn.mynetname.net:5000/").then(function(e){return e.json()}).then(function(t){e.setState({jokes:t})}),this.state.isFetching=!1}},{key:"render",value:function(){var e=this.state.jokes,t=this.state.isFetching;return c.a.createElement(f.Panel,{id:"like"},c.a.createElement(f.PanelHeader,null,"\u041b\u044e\u0431\u0438\u043c\u044b\u0435"),t&&c.a.createElement(f.ScreenSpinner,{className:"spinner",size:"large",style:{marginTop:20}}),e.map(function(e){return c.a.createElement(f.Group,{className:"post"},e.joke)}))}}]),t}(c.a.Component),S=a(63),O=a.n(S),C=a(64),w=a.n(C),U=a(65),I=a.n(U),P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).go=function(e){a.setState({activePanel:e.currentTarget.dataset.to})},a.state={activeStory:"feed",fetchedUser:null},a.onStoryChange=a.onStoryChange.bind(Object(b.a)(Object(b.a)(a))),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"onStoryChange",value:function(e){this.setState({activeStory:e.currentTarget.dataset.story})}},{key:"componentDidMount",value:function(){var e=this;l.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data}),console.log(t.detail.data.id);break;default:console.log(t.detail.data)}}),l.a.send("VKWebAppGetUserInfo",{})}},{key:"render",value:function(){return c.a.createElement(f.Epic,{activeStory:this.state.activeStory,tabbar:c.a.createElement(f.Tabbar,null,c.a.createElement(f.TabbarItem,{className:"tb",onClick:this.onStoryChange,selected:"feed"===this.state.activeStory,"data-story":"feed",text:"\u041b\u0435\u043d\u0442\u0430"},c.a.createElement(I.a,null)),c.a.createElement(f.TabbarItem,{className:"tb",onClick:this.onStoryChange,selected:"like"===this.state.activeStory,"data-story":"like",text:"\u041b\u044e\u0431\u0438\u043c\u044b\u0435"},c.a.createElement(O.a,null)),c.a.createElement(f.TabbarItem,{className:"tb",onClick:this.onStoryChange,selected:"send"===this.state.activeStory,"data-story":"send",text:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c"},c.a.createElement(w.a,null)))},c.a.createElement(f.View,{id:"feed",activePanel:"feed"},c.a.createElement(j,{id:"feed",fetchedUser:this.state.fetchedUser})),c.a.createElement(f.View,{id:"like",activePanel:"like"},c.a.createElement(g,{id:"like"})),c.a.createElement(f.View,{id:"send",activePanel:"send"},c.a.createElement(E,{id:"send"})))}}]),t}(c.a.Component);l.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppUpdateConfig":var t=document.createAttribute("scheme");t.value=e.detail.data.scheme?e.detail.data.scheme:"client_light",document.body.attributes.setNamedItem(t);break;default:console.log(e.detail.type)}}),l.a.send("VKWebAppInit",{}),r.a.render(c.a.createElement(P,null),document.getElementById("root"))},37:function(e,t,a){},61:function(e,t,a){e.exports=a.p+"static/media/9.7dca66b2.jpg"},66:function(e,t,a){e.exports=a(116)}},[[66,1,2]]]);
//# sourceMappingURL=main.4aa98454.chunk.js.map