{"version":3,"sources":["panels/Home.js","panels/Feed.js","App.js","index.js"],"names":["Home","_ref","id","go","fetchedUser","react_default","a","createElement","vkui","className","title","before","photo_200","src","description","city","concat","first_name","last_name","size","level","onClick","data-to","Feed","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","jokes","isFetching","loadJokes","_this2","fetch","then","response","json","data","setState","value","console","log","style","marginTop","map","joke","React","Component","App","e","activePanel","currentTarget","dataset","to","activeStory","onStoryChange","bind","assertThisInitialized","story","connect","subscribe","detail","type","send","tabbar","selected","data-story","text","newsfeed_default","favorite_default","send_default","panels_Feed","panels_Home","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.4342833d.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Panel, ListItem, Button, Group, Div, Avatar, PanelHeader } from '@vkontakte/vkui';\n//import '../style.css';\nconst Home = ({ id, go, fetchedUser }) => (\n\t<Panel id={id} className=\"header\" >\n\t\t<PanelHeader >Example</PanelHeader>\n\t\t{fetchedUser &&\n\t\t<Group title=\"User Data Fetched with VK Connect\">\n\t\t\t<ListItem\n\t\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n\t\t\t\tdescription={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n\t\t\t>\n\t\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n\t\t\t</ListItem>\n\t\t</Group>}\n\n\t\t<Group title=\"Navigation Example\">\n\t\t\t<Div>\n\t\t\t\t<Button className=\"button\" size=\"xl\" level=\"2\" onClick={go} data-to=\"persik\">\n\t\t\t\t\tShow me the Persik, please\n\t\t\t\t</Button>\n\t\t\t</Div>\n\t\t</Group>\n\t</Panel>\n);\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Panel, ListItem, Spinner, Group, Div, Avatar, PanelHeader } from '@vkontakte/vkui';\nimport '../style.css';\n\n\nclass Feed extends React.Component {\n    \n    constructor(props) {\n      super(props);\n      this.state = {\n        jokes: [],\n        isFetching : true\n      };\n    }\n    componentDidMount() {\n        this.loadJokes();\n        \n    }\n    loadJokes(){\n        //fetch('http://92.240.135.238:5000/')\n        fetch('https://api.icndb.com/jokes/random/10')\n        .then(response => response.json())\n        .then(data => {this.setState({ jokes: data.value});\n       // .then(data => {this.setState({ jokes: data.value});\n        });\n        console.log(this.state.jokes);\n        this.state.isFetching = false;\n    }\n  \n    render() {\n        \n        const {jokes} = this.state;\n        const {isFetching} = this.state; \n        return(\n            <Panel id=\"feed\">\n                <PanelHeader >Лента</PanelHeader>\n                {isFetching &&  <Spinner className= \"spinner\" size=\"large\" style={{ marginTop: 20 }}/>}\n                {jokes.map(joke =>\n                    <Group className=\"post\">\n                        {joke.joke}\n                    </Group>\n                )}\n          </Panel>\n            \n        )\n           \n    }\n};\n\n\nexport default Feed;\n","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport { View,Epic,Tabbar,TabbarItem,Panel,PanelHeader} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n//import './style.css';\nimport Home from './panels/Home';\nimport Feed from './panels/Feed';\n\nimport Icon28Favorite from '@vkontakte/icons/dist/28/favorite'\nimport Icon28Send from '@vkontakte/icons/dist/28/send'\nimport Icon28Newsfeed from '@vkontakte/icons/dist/28/newsfeed'\n\nclass App extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props);\n\t\n\t\tthis.state = {\n\t\t  activeStory: 'feed'\n\t\t};\n\t\tthis.onStoryChange = this.onStoryChange.bind(this);\n\t  }\n\t\n\t  onStoryChange (e) {\n\t\tthis.setState({ activeStory: e.currentTarget.dataset.story })\n\t  }\n\n\tcomponentDidMount() {\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({ fetchedUser: e.detail.data });\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(e.detail.type);\n\t\t\t}\n\t\t});\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n\t}\n\n\tgo = (e) => {\n\t\tthis.setState({ activePanel: e.currentTarget.dataset.to })\n\t};\n\n\trender() {\n\t\t\treturn (\n\t\t\t\t<Epic activeStory={this.state.activeStory} tabbar={\n\t\t\t\t  <Tabbar >\n\t\t\t\t\t<TabbarItem className=\"tb\"\n\t\t\t\t\t  onClick={this.onStoryChange}\n\t\t\t\t\t  selected={this.state.activeStory === 'feed'}\n\t\t\t\t\t  data-story=\"feed\"\n\t\t\t\t\t  text=\"Лента\"\n\t\t\t\t\t><Icon28Newsfeed /></TabbarItem>\n\t\t\t\t\t<TabbarItem className=\"tb\"\n\t\t\t\t\t  onClick={this.onStoryChange}\n\t\t\t\t\t  selected={this.state.activeStory === 'like'}\n\t\t\t\t\t  data-story=\"like\"\n\t\t\t\t\t  text=\"Любимые\"\n\t\t\t\t\t><Icon28Favorite /></TabbarItem>\n\t\t\t\t\t<TabbarItem className=\"tb\"\n\t\t\t\t\t  onClick={this.onStoryChange}\n\t\t\t\t\t  selected={this.state.activeStory === 'send'}\n\t\t\t\t\t  data-story=\"send\"\n\t\t\t\t\t  text=\"Предложить\"\n\t\t\t\t\t><Icon28Send /></TabbarItem>\n\t\t\t\t  </Tabbar>\n\t\t\t\t}>\n\t\t\t\t  <View id=\"feed\" activePanel=\"feed\">\n\t\t\t\t\t<Panel id=\"feed\">\n\t\t\t\t\t<Feed id='feed'/>\n\t\t\t\t\t</Panel>\n\t\t\t\t  </View>\n\t\t\t\t  <View id=\"like\" activePanel=\"like\">\n\t\t\t\t\t<Panel id=\"like\">\n\t\t\t\t\t  <PanelHeader>Любимые</PanelHeader>\n\t\t\t\t\t</Panel>\n\t\t\t\t  </View>\n\t\t\t\t  <View id=\"send\" activePanel=\"send\">\n\t\t\t\t\t<Home id='send'/>\n\t\t\t\t  </View>\n\t\t\t\t</Epic>\n\t\t);\n\t}\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\nconnect.subscribe((e) => {\n    switch (e.detail.type) {\n        case 'VKWebAppUpdateConfig':\n            let schemeAttribute = document.createAttribute('scheme');\n            schemeAttribute.value = e.detail.data.scheme ? e.detail.data.scheme : 'client_light';\n            document.body.attributes.setNamedItem(schemeAttribute);\n            break;\n \n        default:\n            console.log(e.detail.type);\n    }\n });\n \n // Init VK App\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}