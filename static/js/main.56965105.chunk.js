(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){"use strict";a.r(t);a(67),a(92);var n=a(0),l=a.n(n),c=a(39),i=a.n(c),s=a(7),r=a.n(s),o=a(10),u=a(11),d=a(13),m=a(12),h=a(14),f=a(23),b=a(1),p=(a(115),a(38),a(62)),k=a.n(p),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(b.Panel,{id:"send",className:"header"},l.a.createElement(b.PanelHeader,null,"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c"),l.a.createElement("img",{className:"Persik",src:k.a}),l.a.createElement(b.FormLayout,null,l.a.createElement(b.Textarea,{top:"\u041c\u044b \u043f\u0440\u043e\u0441\u0438\u043c \u0442\u0435\u0431\u044f, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c \u043f\u0443\u043d\u043a\u0442\u0443\u0430\u0446\u0438\u044e \u0438 \u043e\u0448\u0438\u0431\u043a\u0438, \u043f\u0443\u0441\u0442\u044c \u0442\u0432\u043e\u0438 \u0430\u043d\u0435\u043a\u0434\u043e\u0442\u044b \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u044f\u0442\u043d\u0435\u0435 \u0447\u0438\u0442\u0430\u0442\u044c.",placeholder:"\u041d\u0430\u0440\u0434\u044b, \u0430\u0440\u043c\u044f\u043d\u0435 ....."}),l.a.createElement(b.Button,{size:"xl",level:"secondary"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))}}]),t}(l.a.Component),y=a(28),v=a.n(y),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleClick=function(){console.log("this is:",a.state)},a.state={jokes:[],isFetching:!0},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;r.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data}),console.log(t.detail.data.id);break;default:console.log(t.detail.data)}}),r.a.send("VKWebAppGetUserInfo",{}),this.loadJokes()}},{key:"loadJokes",value:function(){var e=this;fetch("https://66160595b12e.sn.mynetname.net/db").then(function(e){return e.json()}).then(function(t){e.setState({jokes:t})}),this.state.isFetching=!1,r.a.send("VKWebAppShowWallPostBox",{message:"\u044f \u0445\u0437 \u043a\u0430\u043a \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0430\u043d\u0435\u043a\u0430!",attachments:"photo27826412_365688436"})}},{key:"render",value:function(){var e=this,t=this.state.jokes,a=this.state.isFetching,n=this.state.fetchedUser;return l.a.createElement(b.Panel,{id:"feed"},l.a.createElement(b.PanelHeader,null,"\u041b\u0435\u043d\u0442\u0430"),n&&l.a.createElement(b.Group,{title:"User Data Fetched with VK Connect"},l.a.createElement(b.ListItem,{before:n.photo_200?l.a.createElement(b.Avatar,{src:n.photo_200}):null,description:n.city&&n.city.title?n.city.title:""},"".concat(n.first_name," ").concat(n.last_name," ").concat(n.id,"\n                     ").concat(n.city.title))),a&&l.a.createElement(b.ScreenSpinner,{className:"spinner",size:"large",style:{marginTop:20}}),t.map(function(t){return l.a.createElement(b.Group,{className:"post"},l.a.createElement(b.List,null,l.a.createElement(b.Cell,{multiline:!0},l.a.createElement("div",{className:"mlCell"},t.joke)),l.a.createElement(b.Cell,{asideContent:l.a.createElement(b.Button,{className:"likes",level:"tertiary",after:l.a.createElement(v.a,null),size:"xl",onClick:function(t){return e.handleClick(t)}},Math.floor(100*Math.random())+1)}," ")))}))}}]),t}(l.a.Component),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleClick=function(){console.log("this is:",a.state)},a.state={jokes:[],isFetching:!0},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadJokes()}},{key:"loadJokes",value:function(){var e=this;fetch("http://66160595b12e.sn.mynetname.net:5000/").then(function(e){return e.json()}).then(function(t){e.setState({jokes:t})}),this.state.isFetching=!1}},{key:"render",value:function(){var e=this,t=this.state.jokes,a=this.state.isFetching;return l.a.createElement(b.Panel,{id:"like"},l.a.createElement(b.PanelHeader,null,"\u041b\u044e\u0431\u0438\u043c\u044b\u0435"),a&&l.a.createElement(b.ScreenSpinner,{className:"spinner",size:"large",style:{marginTop:20}}),t.map(function(t){return l.a.createElement(b.Group,{className:"post"},l.a.createElement(b.List,null,l.a.createElement(b.Cell,{multiline:!0},l.a.createElement("text",null,t.joke)),l.a.createElement(b.Cell,{asideContent:l.a.createElement(b.Button,{className:"likes",level:"tertiary",after:l.a.createElement(v.a,null),size:"xl",onClick:function(t){return e.handleClick(t)}},t.likes)}," ")))}))}}]),t}(l.a.Component),C=a(63),S=a.n(C),O=a(64),w=a.n(O),N=a(65),P=a.n(N),U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).go=function(e){a.setState({activePanel:e.currentTarget.dataset.to})},a.state={activeStory:"feed",fetchedUser:null},a.onStoryChange=a.onStoryChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onStoryChange",value:function(e){this.setState({activeStory:e.currentTarget.dataset.story})}},{key:"componentDidMount",value:function(){var e=this;r.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data}),console.log(t.detail.data.id);break;default:console.log(t.detail.data)}}),r.a.send("VKWebAppGetUserInfo",{})}},{key:"render",value:function(){return l.a.createElement(b.Epic,{activeStory:this.state.activeStory,tabbar:l.a.createElement(b.Tabbar,null,l.a.createElement(b.TabbarItem,{className:"tb",onClick:this.onStoryChange,selected:"feed"===this.state.activeStory,"data-story":"feed",text:"\u041b\u0435\u043d\u0442\u0430"},l.a.createElement(P.a,null)),l.a.createElement(b.TabbarItem,{className:"tb",onClick:this.onStoryChange,selected:"like"===this.state.activeStory,"data-story":"like",text:"\u041b\u044e\u0431\u0438\u043c\u044b\u0435"},l.a.createElement(S.a,null)),l.a.createElement(b.TabbarItem,{className:"tb",onClick:this.onStoryChange,selected:"send"===this.state.activeStory,"data-story":"send",text:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c"},l.a.createElement(w.a,null)))},l.a.createElement(b.View,{id:"feed",activePanel:"feed"},l.a.createElement(j,{id:"feed",fetchedUser:this.state.fetchedUser})),l.a.createElement(b.View,{id:"like",activePanel:"like"},l.a.createElement(g,{id:"like"})),l.a.createElement(b.View,{id:"send",activePanel:"send"},l.a.createElement(E,{id:"send"})))}}]),t}(l.a.Component);r.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppUpdateConfig":var t=document.createAttribute("scheme");t.value=e.detail.data.scheme?e.detail.data.scheme:"client_light",document.body.attributes.setNamedItem(t);break;default:console.log(e.detail.type)}}),r.a.send("VKWebAppInit",{}),i.a.render(l.a.createElement(U,null),document.getElementById("root"))},38:function(e,t,a){},62:function(e,t,a){e.exports=a.p+"static/media/9.7dca66b2.jpg"},66:function(e,t,a){e.exports=a(116)}},[[66,1,2]]]);
//# sourceMappingURL=main.56965105.chunk.js.map